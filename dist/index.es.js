const t={x:{start:"left",Start:"Left",end:"right",End:"Right",size:"width",Size:"Width"},y:{start:"top",Start:"Top",end:"bottom",End:"Bottom",size:"height",Size:"Height"}};function e(e,n,i){var o;const a=n.style;Object.assign(a,{position:"absolute",maxWidth:"",maxHeight:""});let[s="bottom",d="center"]=i.placement.split("-");const r=["top","bottom"].includes(s)?"y":"x";let c=s===t[r].start?t[r].end:t[r].start;const l="x"===r?"y":"x",p=e.getBoundingClientRect(),f=(null===(o=function(t){for(;(t=t.parentNode)&&t instanceof Element;){const e=getComputedStyle(t).overflow;if(["auto","scroll"].includes(e))return t}}(n))||void 0===o?void 0:o.getBoundingClientRect())||new DOMRect(0,0,window.innerWidth,window.innerHeight),g=n.offsetParent||document.body,u=g===document.body?new DOMRect(-pageXOffset,-pageYOffset,window.innerWidth,window.innerHeight):g.getBoundingClientRect(),m=getComputedStyle(g),h=getComputedStyle(n);if(i.flip||void 0===i.flip){const e=t=>Math.abs(p[t]-f[t]),i=e(s);n["offset"+t[r].Size]>i&&e(c)>i&&([s,c]=[c,s])}if(n.dataset.placement=`${s}-${d}`,i.cap||void 0===i.cap){const e=(e,i)=>{const o=h["max"+t[e].Size];i-=parseInt(h["margin"+t[e].Start])+parseInt(h["margin"+t[e].End]),("none"===o||i<parseInt(o))&&(n.style["max"+t[e].Size]=i+"px")};e(r,Math.abs(f[s]-p[s])),e(l,f[t[l].size])}Object.assign(a,{[s]:"auto",[c]:(s===t[r].start?u[t[r].end]-p[t[r].start]:p[t[r].end]-u[t[r].start])-parseInt(m["border"+t[r].Start+"Width"])+"px"});const b="end"===d?"end":"start",S="end"===d?"start":"end",x=p[l]-u[l],w=p[t[l].size],z=n["offset"+t[l].Size];let y="end"===d?u[t[l].size]-x-w:x+("start"!==d?w/2-z/2:0);if(i.bound||void 0===i.bound){const e="end"===d?-1:1;y=Math.max(e*(f[t[l][b]]-u[t[l][b]]),Math.min(y,e*(f[t[l][S]]-u[t[l][b]])-z))}Object.assign(a,{[t[l][S]]:"auto",[t[l][b]]:y-parseInt(m["border"+t[l].Start+"Width"])+"px"})}export default e;
